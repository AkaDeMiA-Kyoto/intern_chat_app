{% extends 'myapp/base.html' %}
{% load static %}

{% block extra_style %}
<link rel="stylesheet" type="text/css" href="{% static 'myapp/css/talk_room.css' %}" />
{% endblock %}

{% block header %}
    <header class="header">
        <div class='header-container'>
            <a href='{% url "friends" %}' class='back'>＜</a>
            <div class="title">
                {{ partner }}
            </div>
            <nav><a href='{% url "talk_room" id %}' class='update'><span>更新</span></a></nav>
        </div>
    </header>
{% endblock %}


{% block content %}
<div class='content'>
    {% for message, time in message_list %}
    <div class='container'>
    {% if message.talk_from == user %}
        <div class='my-talk-container'>
            <div class='group'>{{ time|safe }}</div>    
            <div class='message group mine'>{{ message.content }}</div>
        </div>
    {% else %}
        <div class='talk-from'>{{ message.talk_from }}</div>
        <div class='your-talk-container'>    
            <div class='message group yours'>{{ message.content }}</div>
            <div class='time group'>{{ time|safe }}</div>
        </div>
    {% endif %}
    </div>  
    {% endfor %}
</div>
{% endblock %}

{% block footer %}
<footer class="footer-container">
    <form action='{% url "talk_room" id %}' method='POST'>
    <div class='text-container'>
        <div>
            {% csrf_token %}
            {{ form.content }}
        </div>
        <div>
            <button type='submit' class='submit-button'>送信</button>
        </div>
    </form>
</footer>
</div>
{% endblock %}