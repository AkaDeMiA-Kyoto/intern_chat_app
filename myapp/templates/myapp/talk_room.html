{% extends "base.html" %}
{% load static %}

{% block css %}
<link rel="stylesheet" type="text/css" href="{% static 'myapp/css/talk_room.css' %}">
{% endblock %}

{% block title %}Chat-App TalkRoom{% endblock %}
{% block head_title%}{{ You.username }}{% endblock %}

{% block contents%}
<div class="contents">
    {% for content in messages %}
    <div class="list">
        <div class="name" id="from"> > {{ content.user_from__username }} </div>
        <div class="name" id="time">{{ content.time|date:"m/d H:i" }}</div>
        <div class="name" id="message">{{ content.chat_content }}</div>
    </div>
    {% endfor %}
</div>

<form class="message_form" action="{% url 'talk_room' I.id You.id %}" method="POST">  
    {% csrf_token %}  {# CSRF 対策 #} 

    <p class="field-container">{{form.chat_content}}</p>

    <p class="buttons">
        <input type="submit" value="submit" id="button1">
    </p>
</form>
{% endblock %}